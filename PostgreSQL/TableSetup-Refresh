#Needs Database Name

DROP TABLE IF EXISTS MODULE
DROP TABLE IF EXISTS TICKET
DROP TABLE IF EXISTS MODULE_KNOWN
DROP TABLE IF EXISTS CATEGORY
DROP TABLE IF EXISTS ENGINEER
DROP TABLE IF EXISTS ROUTEGEN

CREATE TABLE MODULE(
MODULE_ID int NOT NULL IDENTITY(1,1) PRIMARY KEY,
MODULE_MODULENAME VARCHAR(45)
)

CREATE TABLE TICKET(
TICKET_ID int NOT NULL IDENTITY(1,1) PRIMARY KEY,
ENGINEER_ID int FOREIGN KEY REFERENCES ENGINEER(ENGINEER_ID),
MODULE_ID int FOREIGN KEY REFERENCES MODULE(MODULE_ID)
)

CREATE TABLE MODULE_KNOWN(
ENGINEER_ID int FOREIGN KEY REFERENCES ENGINEER(ENGINEER_ID),
MODULE_ID int FOREIGN KEY REFERENCES MODULE(MODULE_ID)
PRIMARY KEY(ENGINEER_ID, MODULE_ID),
)

CREATE TABLE CATEGORY(
CATEGORY_ID int NOT NULL IDENTITY(1,1) PRIMARY KEY,
CATEGORY_CATEGORYDESC VARCHAR(45)
)

CREATE TABLE ENGINEER(
ENGINEER_ID int NOT NULL IDENTITY(1,1) PRIMARY KEY,
ENGINEER_ENGINEERNAME_LAST VARCHAR(25),
ENGINEER_ENGINEERNAME_FIRST VARCHAR(25),
ENGINEER_ENGINEER_DAILY int,
ENGINEER_ENGINEER_NINTY int
)

CREATE TABLE ROUTEGEN(
ROUTEGEN_ID int NOT NULL IDENTITY(1,1) PRIMARY KEY,
CATEGORY_ID int FOREIGN KEY REFERENCES CATEGORY(CATEGORY_ID),
ENGINEER_ID int FOREIGN KEY REFERENCES ENGINEER(ENGINEER_ID),
TICKET_ID int FOREIGN KEY REFERENCES TICKET(TICKET_ID),
ROUTEGEN_ROUTEGENSCORE int,
ROUTEGEN_ROUTEGENCOMMENT VARCHAR(500),
ROUTEGEN_ROUTEGENCREATED TIMESTAMP,
ROUTEGEN_ROUTEGENROUTED TIMESTAMP
)
